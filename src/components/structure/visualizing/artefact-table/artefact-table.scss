@import "../../../../style//000-abstracts/__abstracts-dir";

.artefact-table {
  position: relative;
  overflow: hidden;
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 $xs;

  $self: &;

  thead {
    tr {
      th {
        position: relative;
        padding: 0 $m 0 $s;
        font-weight: $fw-semibold;
        text-align: left;

        &.is-sortable {
          cursor: pointer;
        }

        .sort {
          position: absolute;
          top: 50%;
          right: 0;
          display: flex;
          flex-direction: column;
          transform: translateY(-50%);

          &__asc,
          &__desc {
            width: 2px;
            height: 2px;
            border-top: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 5px solid transparent;
          }

          &__asc {
            border-left: 5px solid $lighter;
            margin-bottom: $xxxs;
            transform: rotate(-90deg);
          }

          &__desc {
            border-left: 5px solid $lighter;
            transform: rotate(90deg);
          }

          &.sort--asc {
            .sort__asc {
              border-left: 5px solid $accent;
            }
          }

          &.sort--desc {
            .sort__desc {
              border-left: 5px solid $accent;
            }
          }
        }
      }
    }
  }

  tbody {
    tr {
      cursor: pointer;

      td {
        padding: $s 0 $s $s;
        border-bottom: solid $border-stroke-weight-s $accent;
        background-color: $lighter;
        vertical-align: middle;

        &:last-child {
          padding-right: $s;
        }

        a {
          border-bottom: 1px solid $accent;
          color: inherit;
        }

        & .text-value {
          display: inline-block;

          &.wrap {
            width: 80ch;
          }
        }
      }

      #{$self}__image-field {
        width: $xl;
        padding: $xxs $m;
      }

      #{$self}__favorite {
        overflow: hidden;
        width: $m;
        padding-left: $m;

        .favorite-holder {
          position: relative;

          .favorite {
            position: absolute;
            top: -$m;
            border: 0;
            aspect-ratio: 1/1;
            background-color: $lighten-strongest;
            border-radius: 50%;
            color: $dark;
            line-height: normal;
            transition: transform $tr-fast, color $tr-fast, opacity $tr-medium, top $tr-medium;

            &:hover,
            &--is-active {
              background-color: $accent;
              color: $lightest;
              cursor: pointer;
            }

            &--is-armed {
              top: -100px;
              opacity: 0;
            }

            &--is-active {
              transform: scale(1);
            }
          }
        }
      }

      &:hover {
        background-color: $darken-strong;

        #{$self}__favorite {
          .favorite-holder {
            .favorite {
              top: -$m !important;
              opacity: 1 !important;
            }
          }
        }
      }
    }
  }

  .no-wrap {
    white-space: nowrap;
  }
}
