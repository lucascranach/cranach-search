@import "../../../../style//000-abstracts/__abstracts-dir";

.artefact-table {
  position: relative;
  overflow: hidden;
  border-collapse: separate;
  border-spacing: 0 $xs;
  width: 100%;

  $self: &;

  thead {
    tr {
      th {
        position: relative;
        padding: 0 $m;
        font-weight: $fw-semibold;
        text-align: left;

        &.is-sortable {
          cursor: pointer;
        }

        .sort {
          position: absolute;
          top: 50%;
          right: 0;
          display: flex;
          flex-direction: column;
          transform: translateY(-50%);

          &__asc,
          &__desc {
            width: 2px;
            height: 2px;
            border-top: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 5px solid transparent;
          }

          &__asc {
            border-left: 5px solid $lighter;
            margin-bottom: $xxxs;
            transform: rotate(-90deg);
          }

          &__desc {
            border-left: 5px solid $lighter;
            transform: rotate(90deg);
          }

          &.sort--asc {
            .sort__asc {
              border-left: 5px solid $accent;
            }
          }

          &.sort--desc {
            .sort__desc {
              border-left: 5px solid $accent;
            }
          }
        }
      }
    }
  }

  tbody {
    tr {
      td {
        padding: $s $s;
        vertical-align: middle;
        background-color: $lighter;
        border-bottom: solid $border-stroke-weight-s $accent;

        & .text-value {
          display: inline-block;

          &.wrap {
            width: 80ch;
          }
        }
      }

      #{$self}__image-field {
        padding: $xxs $m;
        width: $xl;
      }

      #{$self}__favorite {
        padding: 0;
        overflow: hidden;

        .favorite-holder {
          position: relative;
          width: $xl;
          height: $l;

          .favorite {
            top: 0px;
            position: absolute;
            right: $xs;
            aspect-ratio: 1/1;
            background-color: $lighten-strongest;
            border-radius: 50%;
            color: $dark;
            transition: transform $tr-fast, color $tr-fast, opacity $tr-medium, top $tr-medium;
            opacity: 1;

            &:hover,
            &--is-active {
              background-color: $accent;
              color: $lightest;
              cursor: pointer;
            }

            &--is-armed {
              top: -50px;
              opacity: 0;
            }

            &--is-active {
              transform: scale(1);
            }
          }
        }
      }

      &:hover{
        background-color: $darken-strong;

        #{$self}__favorite {
          .favorite-holder {
            .favorite {
              top: 0 !important;
              opacity: 1 !important;
            }
          }
        }
      }
    }
  }

  .no-wrap {
    white-space: nowrap;
  }
}
